class Map {
    constructor(width) {
        this.width = width;
        this.depth = 2;
        this.map = [];
        this._tileMap = null;
    }

    setTileMap(tileMap) {
        this._tileMap = tileMap;
    }

    isPassible(x, y) {
        let pass = true;
        for (let layer = 0; layer < this.depth; layer++){
            let code = this.map[layer][y * this.width + x];
            if (code) pass = pass && this._tileMap.isPassible(code);
        }
        return pass;
    }

    
}
let baseMap = new Map(20);
baseMap.map = [
    [
      2,   2,   1,   1,   2,   1,   2,   1,   2,   2,   2,   2,   2,   2,   1,   2,   1,   2,   1,   1,
      2,   1,   2,   2,   1,   2,   1,   1,   2,   2,   2,   1,   1,   2,   1,   2,   1,   2,   1,   2,
      1,   2,   1,   1,   1,   2,   2,   1,   2,   2,   2,   2,   1,   2,   1,   2,   1,   2,   2,   1,
      1,   2,   1,   1,   1,   2,   2,   1,   1,   2,   1,   2,   2,   2,   1,   2,   1,   2,   2,   1,
      1,   2,   1,   1,   1,   2,   2,   1,   2,   2,   2,   1,   1,   2,   1,   2,   1,   2,   2,   1,
      1,   2,   1,   1,   1,   2,   2,   1,   2,   2,   2,   1,   2,   2,   1,   2,   1,   2,   1,   2,
      1,   2,   1,   2,   1,   2,   2,   1,   2,   2,   2,   2,   2,   2,   1,   2,   1,   2,   1,   1,
      1,   1,   2,   1,   1,   1,   2,   1,   2,   2,   2,   2,   2,   2,   1,   2,   1,   2,   2,   1,
      2,  52,  53,  53,  53,  53,  54,   1,   2,   2,   2,   2,   2,   2,   1,   2,   1,   2,   1,   2,
      1,  55,  50,  51,  50,  51,  56,   1,   2,   1,   2,   2,   2,   2,   1,   2,   1,   2,   2,   1,
     52,  14,  51,  50,  51,  50,  56,   1,   2,   2,   2,   2,   2,   2,   1,   2,   1,   2,   1,   2,
     55,  51,  50,  51,  50,  51,  13,  53,  53,  54,   1,   2,   2,   2,   1,   2,   1,   2,   1,   1,
     55,  50,  51,  50,  51,  50,  51,  50,  51,  56,   2,   2,   2,   2,   1,   2,   1,   2,   2,   1,
     55,  50,  50,  51,  50,  51,  50,  51,  50,  56,   2,   2,   2,   2,   1,   2,   1,   2,   1,   2,
     55,  51,  51,  50,  51,  50,  11,  58,  58,  59,   2,   2,   2,   2,   1,   2,   1,   2,   1,   1,
     55,  50,  50,  51,  50,  51,  56,   1,   2,   2,   2,   2,   2,   2,   1,   2,   1,   2,   2,   1,
     55,  51,  51,  50,  51,  50,  56,   1,   2,   2,   2,   2,   2,   1,   1,   2,   1,   2,   1,   2,
     55,  50,  50,  51,  50,  51,  56,   1,   2,   2,   2,   2,   2,   2,   1,   2,   1,   2,   1,   2,
     55,  50,  50,  51,  50,  51,  56,   1,   2,   2,   2,   2,   2,   2,   1,   2,   1,   2,   1,   2,
     57,  58,  58,  58,  58,  58,  59,   1,   2,   2,   2,   2,   2,   2,   1,   2,   1,   2,   1,   2
    ],
    [
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 312, 302, 302, 302, 302, 302, 302, 302, 314,
      0,   0, 201,   0,   0,   0,   0,   0,   0,   0,   0, 315, 202,   0, 202,   0, 202,   0, 202, 315,
      0,   0,   0,   0,   0,   0,   0,   0, 201,   0,   0, 315,   0,   0,   0,   0,   0,   0,   0, 315,
      0,   0,   0,   0, 202,   0,   0,   0,   0,   0,   0, 315, 202,   0, 202,   0, 202,   0, 202, 315,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 315,   0,   0,   0,   0,   0,   0,   0, 315,
      0,   0,   0, 101,   0,   0,   0,   0,   0,   0,   0, 315, 202,   0, 202,   0, 202,   0, 202, 315,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 311, 302, 302, 303,   0, 301, 302, 302, 313,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
      0,   0,   0,   0,   0,   0,   0,   0,   0, 201,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 101,   0,   0,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 101,   0,   0,   0,   0,   0,   0,   0,   0,   0,
      0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
    ]
];

export { baseMap }